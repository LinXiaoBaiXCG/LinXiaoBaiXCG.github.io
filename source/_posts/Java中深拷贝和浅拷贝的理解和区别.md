---
title: Java中深拷贝和浅拷贝的理解和区别
date: 2019-04-03 23:00:00
tags: [java]
categories: 编程
---

# 对象拷贝

Java中的对象拷贝(Object Copy)指的是将一个对象的所有属性（成员变量）拷贝到另一个有着相同类类型的对象中去。举例说明：比如，对象A和对象B都属于类S，具有属性a和b。那么对对象A进行拷贝操作赋值给对象B就是：B.a=A.a;  B.b=A.b;

在程序中拷贝对象是很常见的，主要是为了在新的上下文环境中复用现有对象的部分或全部数据。

Java中的对象拷贝主要分为：浅拷贝(Shallow Copy)、深拷贝(Deep Copy)。

# 浅拷贝

被复制对象的所有变量都含有与原来的对象相同的值，而所有的对其他对象的引用仍然指向原来的对象。

浅拷贝是地址拷贝

# 深拷贝

被复制对象的所有变量都含有与原来的对象相同的值，除去那些引用其他对象的变量。

那些引用其他对象的变量将指向被复制过的新对象，而不再是原有的那些被引用的对象。

深拷贝是内容拷贝

# 浅拷贝和深拷贝的区别

深拷贝会创建一个新的内存空间，拷贝的值是一样的，但是内存地址不一样。
浅拷贝只是拷贝指向原来对象的地址，使原对象的引用计数+1